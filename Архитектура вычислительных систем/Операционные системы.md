это комплекс программно-аппаратных средств, который обеспечивает интерфейс вычислительной системы с пользователем и осуществляет управление. 
# Функциональные структуры #
это вычислительные процессы и ресурсы 
Операционная система управляет вычислительными процессами и ресурсами. 
Группы ресурсов: 
- Аппаратные ресурсы (память, процессор, внешние устройства) 
- Программные ресурсы (библиотеки программ) 
- Информационные (данные, файловая система) 
# Управление вычислительными процессами: граф состояний, директивы ОС, блок управления вычислительными процессами #
Операционная система изменяет состояние вычислительных процессов. 
Есть граф состояний вычислительных процессов, который поддерживает операционная система в простейшем варианте. 
Состояния вычислительных процессов: 
- А - Активен - исполняется на центральном процессоре - под него выделена память. 
- Б - Блокирован - когда процесс ожидает какого то события - освобождения ресурса, истечения времени. 
- Г - Готов к исполнению - процесс ждет исполнения на центральном процессоре 
**Как работает граф** 
Из "Активен" переходит в "блокирован" если иcтек квант времени. Из "Блокирован" переходит в "Готов" если истек квант времени и все ресурсы доступны. Может перейти Из "Активен" в "Готов", если все ресурсы уже доступны". Из "Готов" переходит в "Активен" когда ему выделяется центральный процессор. 

Операционная система занимается перемещением процессов между состояниями. 

**Директивы ОС** - операторы в программе, которыми аппретирует программист для управлениями вычислительных процессов

Блок управления ресурсами - это функция операционной системы, которая переводит процессы между состояниями. 
# Управление ресурсами: модель ресурса, уровни управления. #
Нужно построить модель из нескольких уровней. 

1) Первый уровень 
это физический ресурс, с которым взаимодействует пользователь через интерфейс (Ресурс - печатная машинка, интерфейс - клавиатура печатной машинки). 
Также это может быть драйвер, который реализует больший функционал. 
Драйвер взаимодействует с виртуальными ресурсами. Драйвер имеет свой интерфейс. 
С ним взаимодействуем операционная система или программист. 

**Виртуальный ресурс** - ресурс, которого нет физически, но работает так, как будто он есть. 

2) Второй уровень
Когда к ресурсу обращаются несколько вычислительных процессов, то ресурс нужно делить между процессами. 
Ресурсы можно поделить на: 
- разделяемые в пространстве (память) 
- разделяемые по времени (принтер) 

Также, чтобы обращаться с ресурсами на более высоком уровне нужен планировщик 
**Планировщик** - это объект, который принимает запросы от вычислительных процессов на ресурсы и выстраивает эти запросы в очередь, выделяя ресурсы в зависимости от приоритетов и критерий. 
**Выводы** - мы получаем из физического ресурса с помощью драйвера виртуальный ресурс, а с помощью планировщика обобщенный ресурс. 
Драйвер - уровень управления функционированием. 
Планировщик - уровень управления использованием.
# Управление памятью #
-- это функция операционной системы

Есть два вида памяти - **Основная память** и **Внешняя память**

Существует проблема, что - Центральный процессор может управлять только данными из основной памяти. 
Если нужны данные из внешней памяти, то из нужно перенести в основную.
Внешняя память можно считать что практически бесконечна.

Чтобы обеспечить работу вычислительных процессов надо обеспечить необходимые данные в основной памяти

Т.к. операционная система выполняется на тех же ресурсах что и пользовательские процессы, то размер процессов операционной системы является **критическим**. 

Сначала:
Для этого основную память нужно разделить на разделы одинакового размера.
Потом:
Из-за того, что процесс мог не помещаться в раздел, придумали делать разделы разного размера, из-за этого увеличились затраты на функции операционной системы.
это - Стандартное распределение неперемещаемыми разделами

**Сборщик мусора** - Используется, чтобы убирать "дыры" свободной памяти в одно место.
*Нюанс - Сборщик памяти плохо работал с скомпилированными бинарными файлами, так как там абсолютные адреса, которые сборщику менять трудно.
Из-за этого нюанса память начали разбивать на **страницы**

Когда программист разрабатывает программу, он пользуется адресами виртуальной памяти, а **виртуальная память** как раз и **состоит** из **страниц**.
Операционная система распределяет эти страницы по уровням памяти и она имеет информацию о их расположении в таблице страниц.

Чтобы программисту взять данные, ему нужно знать номер страницы и смещение относительно начала этой страницы.

Чтобы загрузить новую страницу в основную память, нужно убрать неиспользуемую страницу из таблицы страниц. 
Если несколько алгоритмов выбора страницы, которую нужно заместить.

Можно замещать несколько страниц сразу, если они логически связаны.
Несколько логически связанных страниц называют - **Сегментом** 
Отсюда получается **Сегментно-Страничная организация памяти** 

# Управление временем центрального процессора #

**Эффективность процессора** - количество задач, выполненных за единицу времени.
У центрального процессора есть очередь готовых вычислительных процессов.

Каждому вычислительному процессу выделяется квант времени, по истечению которого этот процесс отправляется заново в очередь.
Такая процедура называется - **Квантование**

В очереди есть уровни приоритетов. Задача, которая не выполняется за некоторое количество квантов **отправляется** в очередь с более **низким** **приоритетом**, но с **увеличенной** длительностью **кванта**.

# Управление информацией
-- это файловая система

**Файл** - это именованная область памяти.
В файле хранятся данные, организованные в виде записей.

Файловая система обеспечивает поиск файла и чтение из этого файла на уровне записи.
Каждый файл имеет 
**Дескриптор(Описатель)** - Это имя файла, длинна файла, права доступа к файлу.
В зависимости от устройства на котором хранится файл, файл может быть прямого доступа и последовательного.
**Последовательный доступ** - чтобы прочитать N-ую запись нужно прочитать все предыдущие.
**Прямой доступ** - можно сразу прочитать запись N

Операции над файлами стандартные.

В файловой системе основной элемент это **структура каталогов**.
**Каталог** - это список файлов и определение где они хранятся

**Классическая файловая система** - это многоуровневые каталоги

К одному и тому же файлу можно добраться разными путями.(От главного и текущего)

У каждого файла хранится количество ссылок на этот файл, и уничтожается файл когда кол-во этих ссылок равно нулю.
**Уничтожение файла** - отнесение этой области памяти в свободную область.

# Модель "Исключение критических участков" #

Перед выполнением действий над ресурсами разделяемыми во времени была выполнена операция P(S), а после завершения V(S) 

# Модель "Поставщик - потребитель" #

Когда есть два ВПРС, один процесс готовит данные и помещает их в буффер ограниченного объема,  второй процесс читает эти данные и обрабатывает их.

Ситуация требует двух семафоров.
Первый - количество свободных мест в буфере
Второй - количество занятых мест в буфере

Поставщик - Перед тем как записать очередную порцию данных в буфер выполняет операцию P(S), если там есть хотя бы одно свободное место, ему дадут записать. После этого он выполняет операцию V(S) над вторым семафором.
Потребитель - операция P(S) только над занятыми местами, если есть хотя бы одно занятое, то он читает, если нет, тогда он стоит и ждет. Если он прочитал эти данные, он выполняет операцию V(S) над первым семафором.

# Модель "Синхронизация"

это ситуация когда нам надо обеспечить выполнение ВПРС так, чтобы каждый ВПРС попал в точку синхронизации, дождался своего "Визави" в этой точке.

Ситуация требует двух семафоров.
Первый - в точке синхронизации.
Второй - в точке синхронизации второго ВПРС.

Каждый ВПРС попав в точку синхронизации выполняет операции V(S) над своим семафором и потом P(S) другого ВПРС.

Таким образом V(S) разрешает "Визави" двигаться, а P(S) заставляет ждать.